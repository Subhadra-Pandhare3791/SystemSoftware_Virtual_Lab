<!DOCTYPE html>
<!DOCTYPE html>
<html>
<head>
	<title>Experiment-5</title>
	<style type="text/css">
		body{
			margin: 0;
			padding: 0;
			font-family: Century Gothic;
			background-color: #DAF7A6;
		}
	</style>
</head>
<body>
		<center>
			<h1 style="font-size: 40px; color: red; text-shadow: 3px 3px 5px purple;">Experiment-5</h1>
		</center><br>

		<center><h3 style="font-size: 28px; color: darkgreen"><b><u>Aim:</u> Implementation of the macro expansion.</b> <h3><br>
		</center>
		
		<h3 style="font-size: 28px; color: darkblue"><b>&nbsp &nbsp &nbsp <u>Theory:</u></b></h3><br>

		<p style="font-size: 21px">&nbsp &nbsp &nbsp * Definition of Macro:<br><br>
		&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp “A macro is a unit of specification for program generation through expansion.”<br>&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp A macro definition is enclosed between a macro header statement and a macro end statement of the macro.<br><br>
		&nbsp &nbsp &nbsp A macro definition consists of:-</p>
		<ul style="font-size: 19px">
			<li>A macro prototype statement</li>
			<li>One or more model statements</li>
			<li>Macro pre-processor statement.</li>
		</ul><br>
		<p style="font-size: 19px">&nbsp &nbsp &nbsp A macro prototype statement declares the name of a macro & the names & kinds of its parameters.<br>
		&nbsp &nbsp &nbsp Syntax:- &nbsp <b> &lt macro name &gt [&lt formal parameter specification &gt [ ,….]]</b><br>
		&nbsp &nbsp &nbsp Where,<br>&nbsp &nbsp &nbsp &lt macro name &gt apperes in the mnemonic field of an assembly statement.<br>
		&nbsp &nbsp &nbsp &lt formal parameter specification &gt is of the form & &lt parameter name &gt[&lt parameter kind &gt]. <br><br>
		&nbsp &nbsp &nbsp A model statement is a statement from which an assembly language statement may be generated during macro expansion.<br>
		&nbsp &nbsp &nbsp A pre-processor statement is used to perform auxiliary functions during macro expansion.
		<br><br></p>
		<b style="font-size: 21px">&nbsp &nbsp &nbsp Example of macro:</b><br><p style="font-size: 21px">
			&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp macro<br>
			&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp incr &mem_val,&incr_val,&ampreg=areg<br>
			&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp mover &ampreg,&mem_val<br>
			&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp add &ampreg,&incr_val<br>
			&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp movem &ampreg,&mem_val<br>
			&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp  &nbsp &nbsp &nbsp &nbsp mend<br><br></p>
			<b style="font-size: 21px">&nbsp &nbsp &nbsp 
		&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp
		  &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp
		  &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp
		  &nbsp &nbsp &nbsp &nbsp
		  <video src="Macros and Macroprocessors in hindi.mp4" width="700" controls loop>Macros and Macroprocessors  in hindi</video>
		  <br> <br>
				
				*Macro Call:</b><br><br><p style="font-size: 19px">&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp A macro call is called by writing the macro name in the mnemonic field of an assembly statement.<br>
			&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp Syntax:-&nbsp <b> &lt macro name &gt [&lt actual parameter specification &gt [ ,….]]</b><br>
			&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp Where,<br>
			&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp An actual parameter typically resembles an operand specification in an assembly language statement.<br>
			&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp e.g. incr A,B<br>
			&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp In this example we can see that A, B are actual parameters.<br><br><br>

			&nbsp &nbsp &nbsp To implement the macro expansion we need to know the variety of tables as follows:<br><br>
			&nbsp &nbsp &nbsp 1. APTAB=actual parameter table:<br><br>&nbsp &nbsp &nbsp &nbsp &nbsp
			&nbsp &nbsp &nbsp This table contains the list of actual parameters which are required at the time of expansion of the macro.<br><br>
			&nbsp &nbsp &nbsp 2. PNTAB= parameter name table:<br><br>&nbsp &nbsp &nbsp &nbsp &nbsp
			&nbsp &nbsp &nbsp This table contains the list of parameters which includes both keyword as well as positional parameters.<br><br>
			&nbsp &nbsp &nbsp 3. KPDTAB=keyword parameter default table:<br><br>&nbsp &nbsp &nbsp &nbsp &nbsp
            &nbsp &nbsp &nbsp This table contains the list of all default parameters that must be used while expanding the code that is at the time of macro expansion.<br><br>
            &nbsp &nbsp &nbsp 4. MDT= macro definition table:<br><br>&nbsp &nbsp &nbsp &nbsp &nbsp
			&nbsp &nbsp &nbsp This table contains the information about each parameter used in the macro definition. The entries for each statement will decide the actual parameters in the expanded code.<br>
			&nbsp &nbsp &nbsp &nbsp &nbsp e.g. mover &ampreg,&mem_val from the macro definition will be changed in the MDT as follows:<br>
			&nbsp &nbsp &nbsp &nbsp &nbsp mover (p,2),(p,0)<br>
			&nbsp &nbsp &nbsp &nbsp &nbsp (p,2) stands for areg, because we know parameter at second second location is the areg only.<br>
			&nbsp &nbsp &nbsp &nbsp &nbsp (p,0) stands for A, as A is one of the memory location used in the statement.<br><br><br>

			&nbsp &nbsp &nbsp Let’s see the example:<br><br>
			&nbsp &nbsp &nbsp <img src="Exp-5(example).jpg" style="width: 500px; height: 450"><br><br><br>
</body>
</html>
